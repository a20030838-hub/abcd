<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>청소년 프로그램 개발과 평가 - Cinematic Intro</title>
    
    <!-- 폰트: Noto Sans KR & Montserrat -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;800&family=Noto+Sans+KR:wght@100;400;700;900&display=swap" rel="stylesheet">

    <!-- CSS 스타일 -->
    <style>
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: #000;
            font-family: 'Noto Sans KR', sans-serif;
        }

        /* 3D 캔버스 (배경) */
        #canvas-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        /* 콘텐츠 컨테이너 */
        .content-wrapper {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 10;
            text-align: center;
            color: #fff;
            width: 100%;
            mix-blend-mode: exclusion; /* 배경과 섞이는 효과 */
        }

        /* 인트로 텍스트 (작게 시작) */
        .intro-label {
            font-family: 'Montserrat', sans-serif;
            font-size: 1rem;
            letter-spacing: 10px;
            color: #4deeea; /* Cyan Accent */
            margin-bottom: 20px;
            opacity: 0;
            text-transform: uppercase;
        }

        /* 메인 타이틀 */
        .main-title {
            font-size: 5rem;
            font-weight: 900;
            line-height: 1.1;
            margin: 0;
            background: linear-gradient(to right, #fff, #a0a0a0);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            opacity: 0;
            filter: blur(10px);
            transform: scale(1.2);
        }

        .sub-title {
            font-size: 2.5rem;
            font-weight: 100;
            color: rgba(255, 255, 255, 0.8);
            margin-top: 10px;
            opacity: 0;
            letter-spacing: -1px;
        }

        /* 구분선 */
        .divider {
            width: 0%;
            height: 1px;
            background: linear-gradient(90deg, transparent, #4deeea, transparent);
            margin: 40px auto;
            opacity: 0.5;
        }

        /* 팀원 영역 */
        .team-container {
            display: flex;
            justify-content: center;
            gap: 60px;
            margin-top: 20px;
            perspective: 1000px;
        }

        .member {
            opacity: 0;
            transform: translateY(50px) rotateX(45deg);
        }

        .member-role {
            font-size: 0.8rem;
            color: #4deeea;
            margin-bottom: 5px;
            font-family: 'Montserrat', sans-serif;
            letter-spacing: 2px;
        }

        .member-name {
            font-size: 1.8rem;
            font-weight: 700;
            text-shadow: 0 0 10px rgba(77, 238, 234, 0.3);
        }

        /* 하단 진행바 */
        .progress-line {
            position: absolute;
            bottom: 0;
            left: 0;
            height: 4px;
            background: #4deeea;
            width: 0%;
            box-shadow: 0 0 20px #4deeea;
        }

        /* 반응형 */
        @media (max-width: 768px) {
            .main-title { font-size: 3rem; }
            .sub-title { font-size: 1.5rem; }
            .team-container { gap: 20px; flex-wrap: wrap; }
            .member-name { font-size: 1.4rem; }
        }
    </style>
</head>
<body>

    <!-- 3D 배경 영역 -->
    <div id="canvas-container"></div>

    <!-- 하단 로딩 바 -->
    <div class="progress-line"></div>

    <!-- 메인 콘텐츠 -->
    <div class="content-wrapper">
        <div class="intro-label">2025  Mokwon University Project Presentation</div>
        <h1 class="main-title">청소년 프로그램</h1>
        <h2 class="sub-title">개발과 평가</h2>
        
        <div class="divider"></div>

        <div class="team-container">
            <div class="member">
                <div class="member-role">MEMBER</div>
                <div class="member-name">강진</div>
            </div>
            <div class="member">
                <div class="member-role">MEMBER</div>
                <div class="member-name">채은</div>
            </div>
            <div class="member">
                <div class="member-role">MEMBER</div>
                <div class="member-name">서하</div>
            </div>
            <div class="member">
                <div class="member-role">MEMBER</div>
                <div class="member-name">영훈</div>
            </div>
        </div>
    </div>

    <!-- 라이브러리 CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

    <script>
        // ==========================================
        // 1. Three.js - 3D 워프(Warp) 파티클 효과 구현
        // ==========================================
        const scene = new THREE.Scene();
        // 약간의 안개를 주어 깊이감 생성
        scene.fog = new THREE.FogExp2(0x000000, 0.001);

        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.z = 100; // 카메라 위치

        const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(window.devicePixelRatio);
        document.getElementById('canvas-container').appendChild(renderer.domElement);

        // 파티클(별) 생성
        const geometry = new THREE.BufferGeometry();
        const vertices = [];
        const count = 4000; // 별의 개수

        for (let i = 0; i < count; i++) {
            const x = (Math.random() - 0.5) * 2000;
            const y = (Math.random() - 0.5) * 2000;
            const z = (Math.random() - 0.5) * 2000;
            vertices.push(x, y, z);
        }

        geometry.setAttribute('position', new THREE.Float32BufferAttribute(vertices, 3));

        // 별의 재질 (빛나는 느낌)
        const material = new THREE.PointsMaterial({
            color: 0x4deeea,
            size: 2,
            transparent: true,
            opacity: 0.8,
            sizeAttenuation: true
        });

        const starField = new THREE.Points(geometry, material);
        scene.add(starField);

        // 애니메이션 루프
        let speed = 0.5; // 초기 속도
        function animateThree() {
            requestAnimationFrame(animateThree);
            
            // 별들이 카메라 쪽으로 다가오는 효과
            const positions = starField.geometry.attributes.position.array;
            for (let i = 2; i < count * 3; i += 3) {
                positions[i] += speed;
                if (positions[i] > 200) { // 화면 밖으로 나가면 다시 뒤로 보냄
                    positions[i] = -1000;
                }
            }
            starField.geometry.attributes.position.needsUpdate = true;
            
            // 약간의 회전 추가
            starField.rotation.z += 0.0005;

            renderer.render(scene, camera);
        }
        animateThree();

        // 창 크기 변경 대응
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        // ==========================================
        // 2. GSAP - 시네마틱 타임라인 애니메이션 (12초 시퀀스)
        // ==========================================
        const tl = gsap.timeline();

        // 0초 ~ 2초: 배경 속도가 빨라짐 (워프 느낌)
        tl.to({val: 0.5}, {
            val: 8, 
            duration: 3, 
            ease: "power2.in",
            onUpdate: function() { speed = this.targets()[0].val; } // Three.js 속도 제어
        }, 0);

        // 1초: 로딩 바 진행
        tl.to(".progress-line", { width: "100%", duration: 10, ease: "power1.inOut" }, 0);

        // 2초: 상단 라벨 등장
        tl.to(".intro-label", { opacity: 1, y: 0, duration: 1.5, ease: "power2.out" }, 1.5);

        // 3초 ~ 5초: 메인 타이틀 (블러 제거 + 스케일 축소 + 등장)
        tl.to(".main-title", { 
            opacity: 1, 
            filter: "blur(0px)", 
            scale: 1, 
            duration: 2.5, 
            ease: "elastic.out(1, 0.3)" 
        }, 2.5);

        // 4.5초: 서브 타이틀 아래에서 위로
        tl.to(".sub-title", { 
            opacity: 1, 
            y: 0, 
            duration: 1.5, 
            ease: "power3.out" 
        }, 4.0);

        // 5.5초: 배경 속도 다시 정상화 (안정감)
        tl.to({val: 8}, {
            val: 1, 
            duration: 4, 
            ease: "power2.out",
            onUpdate: function() { speed = this.targets()[0].val; }
        }, 5.0);

        // 6초: 구분선 그리기
        tl.to(".divider", { width: "60%", duration: 1.5, ease: "power2.inOut" }, 5.5);

        // 7초 ~ 10초: 팀원 이름 하나씩 3D 회전하며 등장 (Stagger 효과)
        tl.to(".member", { 
            opacity: 1, 
            y: 0, 
            rotateX: 0, 
            duration: 1.5, 
            stagger: 0.4, // 0.4초 간격으로 순차 실행
            ease: "back.out(1.7)" 
        }, 6.5);

        // 11초: 타이틀에 빛나는 효과 추가 (Loop)
        tl.to(".main-title", {
            textShadow: "0 0 20px rgba(255,255,255,0.8)",
            duration: 2,
            yoyo: true,
            repeat: -1
        }, 10);

    </script>
</body>
</html>
